<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div><input type="text" id="code"/> &nbsp;<input type="hidden" id="ios-password"/><span id="android-password" style="display: none;"></span></div>
    <div><button id="get">获取</button>&nbsp;<button id="copy">复制</button></div>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script>
      $("#get").click(function(){
          var code = $("#code").val();
          if(code = '1239'){
            $("#android-password").text('201701252100AnPu');
            $("#ios-password").val('201701252100AnPu');
          }
      });
        
      $("#copy").click(function(){
          if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {//区分iPhone设备  
              window.getSelection().removeAllRanges();//这段代码必须放在前面否则无效  
              var Url2=document.getElementById("biaoios");//要复制文字的节点  
              var range = document.createRange();  
              // 选中需要复制的节点  
              range.selectNode(Url2);  
              // 执行选中元素  
              window.getSelection().addRange(range);  
              // 执行 copy 操作  
              var successful = document.execCommand('copy');  

              // 移除选中的元素  
              window.getSelection().removeAllRanges();  
          }else{  
              var Url2=document.getElementById("ios-password");//要复制文字的节点  
              Url2.select(); // 选择对象  
              document.execCommand("Copy"); // 执行浏览器复制命令  
          } 
      });
    </script>
  </body>
</html>
